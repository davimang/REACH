\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{float}
\usepackage{pdflscape}
\usepackage{multirow}
\usepackage{geometry}
\usepackage{makecell}


\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\geometry{margin=1.25in}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
October 18, 2023 & Aamina Hussain & Added sections 1, 2, and 4\\
October 19, 2023 & David Moroniti & Added trial hazards + SR's\\
October 19, 2023 & Alan Scott & Added additional trial hazards + SR's \\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\section{Introduction}
This document includes a hazard analysis for the web application REACH. REACH will allow users 
to find clinical trials or research studies they are eligible to participate in. It pulls in information about these studies 
from existing external public databases. This document will analyze and record any hazards to the system REACH. In this case, 
a hazard is a property of a system, together with the condition of the environment the system is in, which can cause harm or 
damage and results in a loss. This definition of hazard is from Nancy Leveson's work.

\section{Scope and Purpose of Hazard Analysis}
The scope and purpose of this hazard analysis is to identify any system hazards and which components they are related to. This 
includes analyzing the causes and effects of the hazard and the recommended actions to mitigate the hazard, as well as documenting 
the resulting safety and security requirements.

\section{System Boundaries and Components}
The system boundary for REACH consists of the following:
\begin{enumerate}
    \item The web application itself with all of its front and back end components.
\end{enumerate}

\begin{itemize}
    \item the web application itself
\end{itemize}

\section{Critical Assumptions}
N/A. There are no critical assumptions being made about the software or system.

\section{Failure Mode and Effect Analysis}
    
\begin{table}[H]
    \small
    \centering
    \resizebox{\columnwidth}{!}{\begin{tabular}{|p{3cm}|p{3cm}p{3cm}p{3cm}p{3cm}p{3cm}p{3cm}|}
    \hline
    Component & Failure modes & Effects & Causes & Action & SR & Ref. \\
    \hline
    \multirow{3}{=}{Trial Fetching/Matching} & {External Api's unavailable} & {System is unable to search for trials} & {System failure on the API providers side, scheduled maintenance, and API access method changed} & {Keep an internal database of trials.} & {SR-1} & {HT-1} \\\cline{2-7}
    & {Mismatch in trials being recommended} & {User attempts to sign up for ineligible trial} & {Not enough/invalid information entered by user} & {Display a warning/disclaimer with respect to signing up for trials. Display a confidence rating for each matched trial.} & {SR-2, SR-5} & {HT-2} \\\cline{2-7}
    & {User eligible for "too many" trials} & {Too many emails being sent to user and it could make it more difficult for a user to find a trial they really like.} & {Not enough data entered by user.} & {Inform user if they haven't entered enough data to get a good search.} & {SR-3, SR-4, SR5} & {HT-3} \\
    \hline
    Database & Database unavailable & System is unavailable to login users and retrieve users' user data for searching & System failure on hosting side, database maintenance, database accesses updated or cancelled & Constrain users to guest access. & SR-6 & HT-4 \\ \\\cline{2-7}
    & Unauthorized user accesses the database & User data, including medical data, is may be comprised. Potential legal consequences in case of data breach & Insuffient database security protocols, leak of access credentials & Bring database online, restrict database access. Notify users in the event of a data breach. & SR-7 & HT-5 \\
    \hline
  Login Authentication  & User is unable to login & User is unable to access their profile and autofill search parameters. & User forgets password, password authentication is down, database is unavailable & User is given the option to to change password if password is incorrect, otherwise the user can still use guest access. & FR-4, FR-5 & HT-6 \\\cline{2-7}
  & Unauthorized user logs into a user's account. & Unauthorized user gains access to their medical data and can search on their behalf. & Insufficient password strength, login authentication bug. & Require strong passwords, inform users of login attempts from new locations. & NFR-15, SR-8 & HT-7 \\
    \hline
Placeholder & Placeholder & Placeholder & Placeholder & Placeholder & Placeholder & Placeholder \\
    \hline
    \end{tabular}}
\end{table}


\section{Safety and Security Requirements}

\noindent{\textbf{SR-1:}}
The system shall periodically store new trials into an internal database, and remove trials that are no longer active.\\
\textbf{Rationale:} 
In case of external API failure, there should be some redundancy. Keeping a small "cache" of active trials can ensure the system is never
completely down, due to an external failure.\\~\\

\noindent{\textbf{SR-2:}}
The system shall give users a "confidence rating" when matching trials.\\
\textbf{Rationale:} 
It will be nearly impossible for the system to match every single eligible trial perfectly, and the user should know this.\\~\\

\noindent{\textbf{SR-3:}}
The system shall enable the user to put a limit on the number of emails they can receive per day.\\
\textbf{Rationale:}
Some users may only want 1 email per day, and some users may want 10 emails per day. Each user should be able to decide this.\\~\\

\noindent{\textbf{SR-4:}}
The system shall define a pre-set limit number of emails that will be sent to an individual each day.\\
\textbf{Rationale:}
If a user doesn't set a limit (whether on purpose or by accident), the system could not handle sending thousands of emails to each user every day. A limit for this reason, is necessary.\\~\\

\noindent{\textbf{SR-5:}}
The system shall inform a user if it is likely that they have not entered a sufficient amount of information to get accurate search results or narrow down the search in any way.\\
\textbf{Rationale:}
Some users may not realize the importance of entering sufficient and accurate information. Additionally, some may forget.\\~\\

\noindent{\textbf{SR-6:}}
The system shall restrict users to guest access in the event of a database failure.\\
\textbf{Rationale:}
Without database access, users will be unable to login or retrieve data for searches. Constraining users to guest access ensures they can still use the system without issue.\\~\\

\noindent{\textbf{SR-7:}}
In the event of an unauthorized user accessing the database, the database should be taken offline and access should be restricted.\\
\textbf{Rationale:}
If an authorized user accesses the database, further access should be limited to developers and maintainers to ensure no further damage can be done until the issue is resolved.\\~\\

\noindent{\textbf{SR-8:}}
The system shall inform the user when their account is accessed from a location for the first time. \\
\textbf{Rationale:}
Informing the user of a new login location will allow them to verify whether an unauthorized user has accessed their account, allowing them to update their password and take further steps if needed. \\~\\




\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\end{document}